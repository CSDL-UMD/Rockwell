[{"/home/rockwell/Rockwell/frontend/src/index.js":"1","/home/rockwell/Rockwell/frontend/src/Router/Main.js":"2","/home/rockwell/Rockwell/frontend/src/Components/CompletionPage/FinalPage.js":"3","/home/rockwell/Rockwell/frontend/src/Components/ErrorHandling/ErrorLanding.js":"4","/home/rockwell/Rockwell/frontend/src/Components/AttentionCheck/MainAttentionPage.js":"5","/home/rockwell/Rockwell/frontend/src/Components/ErrorHandling/Landing.js":"6","/home/rockwell/Rockwell/frontend/src/Components/MainFeed/MainFeed.js":"7","/home/rockwell/Rockwell/frontend/src/Components/Tweet/Tweet_attn.js":"8","/home/rockwell/Rockwell/frontend/src/Components/MainFeed/handleTotalResize.js":"9","/home/rockwell/Rockwell/frontend/src/Components/Tweet/Tweet.js":"10","/home/rockwell/Rockwell/frontend/src/Configuration/config.js":"11","/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/CarouselModal.js":"12","/home/rockwell/Rockwell/frontend/src/Components/Carousel/CarouselComponent.js":"13","/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/BtnSlider.js":"14","/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/SliderData.js":"15"},{"size":320,"mtime":1678487483231,"results":"16","hashOfConfig":"17"},{"size":1023,"mtime":1678487483231,"results":"18","hashOfConfig":"17"},{"size":1209,"mtime":1678487483231,"results":"19","hashOfConfig":"17"},{"size":1616,"mtime":1678487483231,"results":"20","hashOfConfig":"17"},{"size":5656,"mtime":1678487483231,"results":"21","hashOfConfig":"17"},{"size":288,"mtime":1678487483231,"results":"22","hashOfConfig":"17"},{"size":10506,"mtime":1678487483231,"results":"23","hashOfConfig":"17"},{"size":3411,"mtime":1678487483231,"results":"24","hashOfConfig":"17"},{"size":649,"mtime":1678487483231,"results":"25","hashOfConfig":"17"},{"size":5290,"mtime":1678487483231,"results":"26","hashOfConfig":"17"},{"size":602,"mtime":1678950146427,"results":"27","hashOfConfig":"17"},{"size":368,"mtime":1678487483231,"results":"28","hashOfConfig":"17"},{"size":1588,"mtime":1678487483231,"results":"29","hashOfConfig":"17"},{"size":452,"mtime":1678487483231,"results":"30","hashOfConfig":"17"},{"size":888,"mtime":1678487483231,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13opp1f",{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/rockwell/Rockwell/frontend/src/index.js",[],"/home/rockwell/Rockwell/frontend/src/Router/Main.js",[],"/home/rockwell/Rockwell/frontend/src/Components/CompletionPage/FinalPage.js",[],"/home/rockwell/Rockwell/frontend/src/Components/ErrorHandling/ErrorLanding.js",[],"/home/rockwell/Rockwell/frontend/src/Components/AttentionCheck/MainAttentionPage.js",["63","64"],"import React, { useEffect, useState } from 'react';\nimport Tweet from '../Tweet/Tweet_attn.js';\nimport configuration from '../../Configuration/config';\nimport rightArrow from './Icons/arrow-right.png';\nimport rightArrowEnabled from './Icons/Enabled_arrow.png';\nimport handleTotalResize from '../MainFeed/handleTotalResize';\nimport config from '../../Configuration/config';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover'\n\nfunction MainAttentionPage(props) {\n  const [attnMap, setAttnMap] = useState([0,0,0,0,0]);\n  const [givenArguments, setGivenArguments] = useState({});\n  const [feedInformation, setFeedInformation] = useState({});\n  const [endOfFeedCondition, setEndOfFeedCondition] = useState(false);\n\n  useEffect(() => {\n    const sleep = (time) => {\n      return new Promise((resolve) => setTimeout(resolve, time));\n    }\n    const fetchTweets = (argumentObject) => {\n      fetch(configuration.get_feed + '?access_token=' + argumentObject.access_token + '&access_token_secret=' + argumentObject.access_token_secret + '&worker_id=' + argumentObject.worker_id + '&attn=' + argumentObject.attn + '&page=' + argumentObject.page).then(resp => {\n        return resp.json();\n      }).then(value => {\n        if (JSON.stringify(value) === '{}') {\n          window.location.href = config.error + '?error=' + config.error_codes.no_tweets_attn_check;\n        }\n        setFeedInformation(value);\n        sleep(500).then(() => {\n          handleTotalResize();\n        });\n      }).catch(err => {\n        window.location.href = config.error + '?error=' + config.error_codes.tweet_fetch_error_attn_check;\n      })\n\n    }\n\n    const getUrlArgs = () => {\n      let originalArgs = props.location.search.substring(1).split('&');\n      let returnObject = {};\n      originalArgs.forEach(pair => {\n        let temp = pair.split('=');\n        returnObject[temp[0]] = temp[1];\n      })\n      return returnObject;\n    }\n\n    const debounce = (fn, ms) => {\n      let timer\n      return _ => {\n        clearTimeout(timer)\n        timer = setTimeout(_ => {\n          timer = null\n          fn.apply(this, arguments);\n        }, ms)\n      };\n    };\n\n    const debouncedHandleResize = debounce(function handleResize() {\n      handleTotalResize();\n    }, 500);\n\n    const urlArgs = getUrlArgs();\n    setGivenArguments(urlArgs);\n    fetchTweets(urlArgs);\n    window.addEventListener('resize', debouncedHandleResize);\n    return _ => {\n      window.removeEventListener('resize', debouncedHandleResize);\n    }\n  }, [props]);\n\n  const handleattncheck = (rank, answer) => {\n    let attn_marked = Object.assign([], attnMap);\n    if (answer === 'Y')\n      attn_marked[rank - 1] = 1;\n    else\n      attn_marked[rank - 1] = 2;\n    let all_marked = 1;\n    for (let i = 0; i < attn_marked.length; i++) {\n      if (attn_marked[i] == 0) {\n        all_marked = 0;\n        break;\n      }\n    }\n    if (all_marked == 1)\n      setEndOfFeedCondition(true);\n    setAttnMap(attn_marked);\n  };\n\n  const popup = () =>(\n    <Popover id = 'popover-positioned-top' style = {{color: 'red'}}>\n      <Popover.Title as='h5'>\n        Mark either yes or no for all given tweets to proceed to the next page\n      </Popover.Title>\n    </Popover>\n  );\n\n  const nextButtonClickedAttn = () => {\n    //alert(\"Next Button Clicked\");\n    console.log(attnMap);\n    fetch(configuration.database_attn_url + '?worker_id='+ givenArguments.worker_id + '&page=' + givenArguments.page + '&attnanswers=' + attnMap).then(resp => {\n        return resp.json();\n      })\n    window.location.href = givenArguments.page === '4' ? '/complete' : '/feed?access_token=' + givenArguments.access_token + '&access_token_secret=' + givenArguments.access_token_secret + '&worker_id=' + givenArguments.worker_id + '&attn=0&page=' + (parseInt(givenArguments.page) + 1)\n  };\n\n  return (\n    <div>\n      <div className=\"Title\">\n        <h1 style={{ margin: '0' }}>Rockwell</h1>\n      </div>\n      {JSON.stringify(feedInformation) === '{}'\n        ?\n        <div style={{ alignContent: 'center', textAlign: 'center' }}> Please wait while your attention check is loading.</div>\n        :\n        <React.Fragment>\n          <div className=\"Feed\">\n            <div className=\"TopInstructions\">\n              <h5 style={{ margin: '0' }}>Please indicate whether the tweets below appeared on the previous screen of the survey:</h5>\n            </div>\n            {\n              feedInformation.map(tweet => (\n                <div key={JSON.stringify(tweet)}>\n                  <Tweet tweet={tweet} givenArguments={givenArguments} handleUserSelection={handleattncheck} />\n                </div>\n              ))\n            }\n            <div className=\"TopInstructions\">\n              <h4 style={{ margin: '0' }}>Once you are done, click on the button below</h4>\n            </div>\n          </div>\n\n          <div className=\"BottomNavBar\">\n            { /* <Link to={isActive ? '/link-to-route' : '#'} /> */}\n            <input type=\"image\" alt=\"right arrow, next page button\" disabled={!endOfFeedCondition ? 'disabled' : ''} src={!endOfFeedCondition ? rightArrow : rightArrowEnabled} className=\"rightImg\" onClick={nextButtonClickedAttn}/>\n\n            <div style = {endOfFeedCondition ? {pointerEvents: 'none'} : {}}>\n              <OverlayTrigger placement={!endOfFeedCondition ? 'top' : ''} trigger = 'click' rootClose = {true} overlay={popup()}>\n                <div className = \"Trigger\"/>\n              </OverlayTrigger>\n            </div>\n          </div>\n        </React.Fragment>\n      }\n    </div>\n  )\n}\n\nexport default MainAttentionPage;\n","/home/rockwell/Rockwell/frontend/src/Components/ErrorHandling/Landing.js",[],"/home/rockwell/Rockwell/frontend/src/Components/MainFeed/MainFeed.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Tweet/Tweet_attn.js",[],"/home/rockwell/Rockwell/frontend/src/Components/MainFeed/handleTotalResize.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Tweet/Tweet.js",[],"/home/rockwell/Rockwell/frontend/src/Configuration/config.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/CarouselModal.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Carousel/CarouselComponent.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/BtnSlider.js",[],"/home/rockwell/Rockwell/frontend/src/Components/Carousel/Components/SliderData.js",[],{"ruleId":"65","severity":1,"message":"66","line":81,"column":26,"nodeType":"67","messageId":"68","endLine":81,"endColumn":28},{"ruleId":"65","severity":1,"message":"66","line":86,"column":20,"nodeType":"67","messageId":"68","endLine":86,"endColumn":22},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected"]